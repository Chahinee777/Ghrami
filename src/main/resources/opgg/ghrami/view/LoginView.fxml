<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.image.*?>
<?import javafx.scene.shape.*?>

<HBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="opgg.ghrami.view.LoginViewController"
      minHeight="850" minWidth="1400">
    
    <!-- LEFT SIDE: Login Form (50%) -->
    <VBox alignment="CENTER" HBox.hgrow="ALWAYS" spacing="35" 
          style="-fx-background-color: #ffffff; -fx-padding: 60;">
        
        <!-- Logo -->
        <VBox alignment="CENTER" spacing="15">
            <ImageView fitWidth="200" fitHeight="200" preserveRatio="true">
                <image>
                    <Image url="@../../../images/assets/ghrami-logo.png"/>
                </image>
            </ImageView>
            <Label text="Ghrami" style="-fx-font-size: 38; -fx-font-weight: bold; -fx-text-fill: linear-gradient(to right, #5a3fb8, #7c5cff);">
                <font><Font name="System Bold" size="38.0" /></font>
            </Label>
            <Label text="by OPGG" style="-fx-font-size: 15; -fx-text-fill: #8c6dff; -fx-font-weight: 600;"/>
        </VBox>

        <!-- Login Form -->
        <VBox spacing="25" maxWidth="420">
            
            <VBox alignment="CENTER" spacing="10">
                <Label text="âœ¨ Bienvenue" style="-fx-font-size: 34; -fx-font-weight: bold; -fx-text-fill: #1c1e21;">
                    <font><Font name="System Bold" size="34.0" /></font>
                </Label>
                <Label text="Connectez-vous Ã  votre compte" style="-fx-font-size: 15; -fx-text-fill: #65676b;"/>
            </VBox>

            <VBox spacing="10">
                <Label text="Email" style="-fx-font-weight: bold; -fx-text-fill: #1c1e21; -fx-font-size: 14;"/>
                <TextField fx:id="emailField" promptText="votre.email@ghrami.tn" 
                          styleClass="modern-input" 
                          style="-fx-font-size: 15; -fx-padding: 16; -fx-background-radius: 12; -fx-border-radius: 12; -fx-border-color: #e4e6eb; -fx-border-width: 2;"/>
            </VBox>

            <VBox spacing="10">
                <HBox alignment="CENTER_LEFT" spacing="0">
                    <Label text="Mot de passe" style="-fx-font-weight: bold; -fx-text-fill: #1c1e21; -fx-font-size: 14;" HBox.hgrow="ALWAYS"/>
                    <Hyperlink fx:id="forgotPasswordLink" text="Mot de passe oubliÃ©?" onAction="#handleForgotPassword" 
                              style="-fx-text-fill: #667eea; -fx-font-size: 12; -fx-underline: false; -fx-font-weight: 600;"/>
                </HBox>
                <PasswordField fx:id="passwordField" promptText="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" 
                              styleClass="modern-input" 
                              style="-fx-font-size: 15; -fx-padding: 16; -fx-background-radius: 12; -fx-border-radius: 12; -fx-border-color: #e4e6eb; -fx-border-width: 2;"/>
            </VBox>

            <Label fx:id="errorLabel" styleClass="error-label" wrapText="true" 
                   style="-fx-text-fill: #e74c3c; -fx-font-size: 13; -fx-font-weight: 600;"/>

            <Button fx:id="loginButton" text="Se connecter â†’" onAction="#handleLogin" 
                    styleClass="btn-primary-large" maxWidth="Infinity" 
                    style="-fx-font-size: 18; -fx-padding: 19; -fx-cursor: hand; -fx-background-radius: 12; -fx-background-color: linear-gradient(to right, #667eea, #764ba2); -fx-text-fill: white; -fx-font-weight: bold; -fx-effect: dropshadow(gaussian, rgba(102,126,234,0.5), 20, 0, 0, 10);">
                <font><Font name="System Bold" size="18.0" /></font>
            </Button>

            <HBox alignment="CENTER" spacing="8" style="-fx-padding: 10 0 0 0;">
                <Label text="Pas encore de compte ?" style="-fx-text-fill: #65676b; -fx-font-size: 14;"/>
                <Hyperlink fx:id="registerLink" text="S'inscrire" onAction="#handleRegister" 
                          style="-fx-text-fill: #667eea; -fx-font-weight: bold; -fx-font-size: 14; -fx-underline: false;"/>
            </HBox>

            <VBox alignment="CENTER" spacing="12" 
                  style="-fx-background-color: linear-gradient(135deg, rgba(102,126,234,0.1) 0%, rgba(118,75,162,0.1) 100%); -fx-background-radius: 12; -fx-padding: 20;">
                <Label text="ðŸ’¡ Comptes de test" style="-fx-font-weight: bold; -fx-text-fill: #667eea; -fx-font-size: 14;"/>
                <VBox spacing="6" alignment="CENTER">
                    <Label text="ðŸ‘‘ Admin: chahine@ghrami.tn / admin123" style="-fx-text-fill: #1c1e21; -fx-font-size: 12; -fx-font-weight: 500;"/>
                    <Label text="ðŸ‘¤ User: anas@ghrami.tn / password123" style="-fx-text-fill: #1c1e21; -fx-font-size: 12; -fx-font-weight: 500;"/>
                </VBox>
            </VBox>
        </VBox>
    </VBox>

    <!-- RIGHT SIDE: Enhanced Visual Content with Purple Background (50%) -->
    <StackPane HBox.hgrow="ALWAYS" 
               style="-fx-background-color: linear-gradient(from 0% 0% to 100% 100%, #5a3fb8 0%, #6b4fd1 40%, #7c5cff 100%);">
        
        <!-- Enhanced Background Effects -->
        <Circle radius="450" style="-fx-fill: rgba(255,255,255,0.08); -fx-translate-x: -280; -fx-translate-y: -240;"/>
        <Circle radius="380" style="-fx-fill: rgba(255,255,255,0.10); -fx-translate-x: 300; -fx-translate-y: 250;"/>
        <Circle radius="320" style="-fx-fill: rgba(255,255,255,0.12); -fx-translate-x: -150; -fx-translate-y: 320;"/>
        <Circle radius="400" style="-fx-fill: rgba(255,255,255,0.09); -fx-translate-x: 320; -fx-translate-y: -220;"/>
        <Circle radius="280" style="-fx-fill: rgba(255,255,255,0.11); -fx-translate-x: 100; -fx-translate-y: -100;"/>
        
        <!-- Animated Decorative Dots -->
        <Circle radius="12" style="-fx-fill: rgba(255,255,255,0.45); -fx-translate-x: -340; -fx-translate-y: 130;"/>
        <Circle radius="16" style="-fx-fill: rgba(255,255,255,0.40); -fx-translate-x: 350; -fx-translate-y: -150;"/>
        <Circle radius="10" style="-fx-fill: rgba(255,255,255,0.50); -fx-translate-x: 290; -fx-translate-y: 320;"/>
        <Circle radius="14" style="-fx-fill: rgba(255,255,255,0.42); -fx-translate-x: -310; -fx-translate-y: -230;"/>
        <Circle radius="11" style="-fx-fill: rgba(255,255,255,0.48); -fx-translate-x: 210; -fx-translate-y: 160;"/>
        <Circle radius="13" style="-fx-fill: rgba(255,255,255,0.44); -fx-translate-x: -180; -fx-translate-y: 80;"/>
        
        <VBox alignment="CENTER" spacing="25" style="-fx-padding: 40 70;">
            
            <!-- MEGA Header Section with Larger Rocket -->
            <VBox alignment="CENTER" spacing="20">
                <!-- Giant Rocket Icon with Multi-layer Glow -->
                <StackPane>
                    <Circle radius="115" style="-fx-fill: rgba(255,255,255,0.35);"/>
                    <Circle radius="100" style="-fx-fill: rgba(255,255,255,0.22);"/>
                    <Circle radius="85" style="-fx-fill: rgba(255,255,255,0.15);"/>
                    <Label text="ðŸš€" style="-fx-font-size: 140;"/>
                </StackPane>
                
                <!-- Powerful Headlines with Enhanced Shadow -->
                <VBox alignment="CENTER" spacing="8">
                    <Label text="Connectez." 
                           style="-fx-font-size: 62; -fx-font-weight: bold; -fx-text-fill: #ffffff; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.65), 24, 0, 0, 10);">
                        <font><Font name="System Bold" size="62.0" /></font>
                    </Label>
                    <Label text="Partagez." 
                           style="-fx-font-size: 62; -fx-font-weight: bold; -fx-text-fill: #ffffff; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.65), 24, 0, 0, 10);">
                        <font><Font name="System Bold" size="62.0" /></font>
                    </Label>
                    <Label text="Explorez." 
                           style="-fx-font-size: 62; -fx-font-weight: bold; -fx-text-fill: #ffffff; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.65), 24, 0, 0, 10);">
                        <font><Font name="System Bold" size="62.0" /></font>
                    </Label>
                </VBox>
                
            </VBox>

            <!-- Premium Feature Cards - Positioned Higher -->
            <VBox spacing="12" maxWidth="580">
                
                <!-- Feature 1 - CommunautÃ© Vibrante -->
                <HBox spacing="20" alignment="CENTER_LEFT" 
                      style="-fx-background-color: rgba(255,255,255,0.35); -fx-background-radius: 24; -fx-padding: 22 28; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.45), 22, 0, 0, 12);">
                    <StackPane>
                        <Circle radius="38" style="-fx-fill: rgba(255,255,255,0.45);"/>
                        <Label text="ðŸ‘¥" style="-fx-font-size: 50;"/>
                    </StackPane>
                    <VBox spacing="7" HBox.hgrow="ALWAYS">
                        <Label text="CommunautÃ© Vibrante" style="-fx-font-size: 21; -fx-font-weight: bold; -fx-text-fill: #ffffff;">
                            <font><Font name="System Bold" size="21.0" /></font>
                        </Label>
                        <Label text="Rejoignez 10,000+ tunisiens passionnÃ©s" wrapText="true" 
                               style="-fx-font-size: 15; -fx-text-fill: #ffffff; -fx-line-spacing: 4;"/>
                    </VBox>
                </HBox>

                <!-- Feature 2 - Hobbies & Meetups -->
                <HBox spacing="20" alignment="CENTER_LEFT" 
                      style="-fx-background-color: rgba(255,255,255,0.35); -fx-background-radius: 24; -fx-padding: 22 28; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.45), 22, 0, 0, 12);">
                    <StackPane>
                        <Circle radius="38" style="-fx-fill: rgba(255,255,255,0.45);"/>
                        <Label text="ðŸŽ¯" style="-fx-font-size: 50;"/>
                    </StackPane>
                    <VBox spacing="7" HBox.hgrow="ALWAYS">
                        <Label text="Hobbies &amp; Meetups" style="-fx-font-size: 21; -fx-font-weight: bold; -fx-text-fill: #ffffff;">
                            <font><Font name="System Bold" size="21.0" /></font>
                        </Label>
                        <Label text="Organisez 500+ Ã©vÃ©nements locaux" wrapText="true" 
                               style="-fx-font-size: 15; -fx-text-fill: #ffffff; -fx-line-spacing: 4;"/>
                    </VBox>
                </HBox>

                <!-- Feature 3 - Cours & Marketplace -->
                <HBox spacing="20" alignment="CENTER_LEFT" 
                      style="-fx-background-color: rgba(255,255,255,0.35); -fx-background-radius: 24; -fx-padding: 22 28; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.45), 22, 0, 0, 12);">
                    <StackPane>
                        <Circle radius="38" style="-fx-fill: rgba(255,255,255,0.45);"/>
                        <Label text="ðŸ“š" style="-fx-font-size: 50;"/>
                    </StackPane>
                    <VBox spacing="7" HBox.hgrow="ALWAYS">
                        <Label text="Cours &amp; Marketplace" style="-fx-font-size: 21; -fx-font-weight: bold; -fx-text-fill: #ffffff;">
                            <font><Font name="System Bold" size="21.0" /></font>
                        </Label>
                        <Label text="AccÃ©dez Ã  100+ cours et partagez vos skills" wrapText="true" 
                               style="-fx-font-size: 15; -fx-text-fill: #ffffff; -fx-line-spacing: 4;"/>
                    </VBox>
                </HBox>
            </VBox>
        </VBox>
    </StackPane>
</HBox>
